const {
  __decorate,
  __param
} = require('../../../../../../external/tslib/tslib.es6.js');
const {
  RunOnceScheduler
} = require('../../../base/common/async.js');
const {
  Disposable
} = require('../../../base/common/lifecycle.js');
const {
  AccessibilitySignal
} = require('./accessibilitySignalService.js');
const {
  IAccessibilitySignalService
} = require('./accessibilitySignalService.service.js');
const PROGRESS_SIGNAL_LOOP_DELAY = 5000;
let AccessibilityProgressSignalScheduler = class AccessibilityProgressSignalScheduler extends Disposable {
  constructor(msDelayTime, msLoopTime, _accessibilitySignalService) {
    super();
    this._accessibilitySignalService = _accessibilitySignalService;
    this._scheduler = new RunOnceScheduler(() => {
      this._signalLoop = this._accessibilitySignalService.playSignalLoop(AccessibilitySignal.progress, msLoopTime ?? PROGRESS_SIGNAL_LOOP_DELAY);
    }, msDelayTime);
    this._scheduler.schedule();
  }
  dispose() {
    super.dispose();
    this._signalLoop?.dispose();
    this._scheduler.dispose();
  }
};
AccessibilityProgressSignalScheduler = __decorate([__param(2, IAccessibilitySignalService)], AccessibilityProgressSignalScheduler);
exports.AccessibilityProgressSignalScheduler = AccessibilityProgressSignalScheduler;